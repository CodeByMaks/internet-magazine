"use strict";(()=>{var e={};e.id=929,e.ids=[929,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},5610:(e,t,r)=>{r.r(t),r.d(t,{config:()=>C,default:()=>x,getServerSideProps:()=>v,getStaticPaths:()=>U,getStaticProps:()=>D,reportWebVitals:()=>N,routeModule:()=>L,unstable_getServerProps:()=>T,unstable_getServerSideProps:()=>M,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>w});var o={};r.r(o),r.d(o,{default:()=>j});var n=r(7093),a=r(5244),s=r(1323),d=r(1777),i=r.n(d),l=r(5863),u=r.n(l),c=r(997);r(6689);var m=r(3951);(function(){var e=Error("Cannot find module 'react-redux'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}();let p=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  max-width: 800px;
  margin: 2rem auto;
  padding: 0 1rem;
`,f=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  color: #1f2937;
  margin-bottom: 2rem;
`,O=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  background: white;
  padding: 2rem;
  border-radius: 1rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`,g=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  margin-bottom: 2rem;
`,h=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  color: #1f2937;
  margin-bottom: 1rem;
  font-size: 1.5rem;
`,_=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  display: grid;
  grid-template-columns: 150px 1fr;
  gap: 1rem;
  margin-bottom: 0.5rem;
`,E=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  color: #6b7280;
`,b=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  color: #1f2937;
  font-weight: 500;
`,P=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  padding: 0.75rem 1.5rem;
  background-color: #ef4444;
  color: white;
  border: none;
  border-radius: 0.5rem;
  font-weight: 600;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #dc2626;
  }
`,j=()=>{let{user:e}=Object(function(){var e=Error("Cannot find module 'react-redux'");throw e.code="MODULE_NOT_FOUND",e}())(e=>e.auth),t=Object(function(){var e=Error("Cannot find module 'react-redux'");throw e.code="MODULE_NOT_FOUND",e}())(),r=Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}())();return(0,c.jsxs)(p,{children:[c.jsx(f,{children:"Профиль"}),(0,c.jsxs)(O,{children:[(0,c.jsxs)(g,{children:[c.jsx(h,{children:"Личная информация"}),(0,c.jsxs)(_,{children:[c.jsx(E,{children:"Имя:"}),c.jsx(b,{children:e?.name||"Не указано"})]}),(0,c.jsxs)(_,{children:[c.jsx(E,{children:"Email:"}),c.jsx(b,{children:e?.email||"Не указан"})]})]}),(0,c.jsxs)(g,{children:[c.jsx(h,{children:"История заказов"}),c.jsx("p",{children:"У вас пока нет заказов"})]}),c.jsx(P,{onClick:()=>{t((0,m.kS)()),r("/")},children:"Выйти"})]})]})},x=(0,s.l)(o,"default"),D=(0,s.l)(o,"getStaticProps"),U=(0,s.l)(o,"getStaticPaths"),v=(0,s.l)(o,"getServerSideProps"),C=(0,s.l)(o,"config"),N=(0,s.l)(o,"reportWebVitals"),w=(0,s.l)(o,"unstable_getStaticProps"),y=(0,s.l)(o,"unstable_getStaticPaths"),S=(0,s.l)(o,"unstable_getStaticParams"),T=(0,s.l)(o,"unstable_getServerProps"),M=(0,s.l)(o,"unstable_getServerSideProps"),L=new n.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/Profile",pathname:"/Profile",bundlePath:"",filename:""},components:{App:u(),Document:i()},userland:o})},5863:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let o=r(167),n=r(997),a=o._(r(6689)),s=r(6921);async function d(e){let{Component:t,ctx:r}=e;return{pageProps:await (0,s.loadGetInitialProps)(t,r)}}class i extends a.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,n.jsx)(e,{...t})}}i.origGetInitialProps=d,i.getInitialProps=d,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3843:(e,t,r)=>{r.d(t,{HI:()=>d,ZP:()=>u,bm:()=>s}),function(){var e=Error("Cannot find module 'axios'");throw e.code="MODULE_NOT_FOUND",e}();let o=new Map,n=Object(function(){var e=Error("Cannot find module 'axios'");throw e.code="MODULE_NOT_FOUND",e}())({baseURL:(void 0).PROD?"https://internet-magazine-4jwp.vercel.app/api":"http://localhost:3002/api",headers:{"Content-Type":"application/json"},withCredentials:!0}),a=()=>{let e=document.cookie.split(";").find(e=>e.trim().startsWith("token="));return e?e.split("=")[1]:null},s=e=>{document.cookie=`token=${e}; path=/; secure; samesite=strict; max-age=86400`},d=()=>{document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},i=e=>{let t=o.get(e);return t&&Date.now()-t.timestamp<3e5?t.data:null},l=(e,t)=>{o.set(e,{data:t,timestamp:Date.now()})};n.interceptors.request.use(e=>{if("get"===e.method){let t=i(e.url);if(t)return Promise.reject({__CACHE_HIT__:!0,data:t})}let t=a();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>("get"===e.config.method&&l(e.config.url,e.data),e),async e=>e.__CACHE_HIT__?{data:e.data}:e.message&&e.message.includes("CORS")?(console.error("CORS ошибка:",e.message),Promise.reject(Error("Ошибка доступа к API"))):e.response?500===e.response.status?Promise.reject(Error("Ошибка сервера")):Promise.reject(e):e.config&&e.config.retryCount<3?(e.config.retryCount=(e.config.retryCount||0)+1,await new Promise(t=>setTimeout(t,1e3*e.config.retryCount)),n(e.config)):Promise.reject(Error("Ошибка сети")));let u=n},3951:(e,t,r)=>{r.d(t,{kS:()=>s,x4:()=>n,z2:()=>a}),function(){var e=Error("Cannot find module '@reduxjs/toolkit'");throw e.code="MODULE_NOT_FOUND",e}();var o=r(3843);let n=Object(function(){var e=Error("Cannot find module '@reduxjs/toolkit'");throw e.code="MODULE_NOT_FOUND",e}())("auth/login",async(e,{rejectWithValue:t})=>{try{let t=await o.ZP.post("/auth/login",e);return(0,o.bm)(t.data.token),t.data.user}catch(e){return console.error("Ошибка при входе:",{message:e.message,response:e.response?.data,status:e.response?.status}),t(e.response?.data?.message||e.message)}}),a=Object(function(){var e=Error("Cannot find module '@reduxjs/toolkit'");throw e.code="MODULE_NOT_FOUND",e}())("auth/register",async(e,{rejectWithValue:t})=>{try{let t=await o.ZP.post("/auth/register",e);return(0,o.bm)(t.data.token),t.data.user}catch(e){return console.error("Ошибка при регистрации:",{message:e.message,response:e.response?.data,status:e.response?.status}),t(e.response?.data?.message||e.message)}}),s=Object(function(){var e=Error("Cannot find module '@reduxjs/toolkit'");throw e.code="MODULE_NOT_FOUND",e}())("auth/logout",async(e,{rejectWithValue:t})=>{try{return await o.ZP.post("/auth/logout"),(0,o.HI)(),null}catch(e){return console.error("Ошибка при выходе:",{message:e.message,response:e.response?.data,status:e.response?.status}),t(e.response?.data?.message||e.message)}}),d=Object(function(){var e=Error("Cannot find module '@reduxjs/toolkit'");throw e.code="MODULE_NOT_FOUND",e}())({name:"auth",initialState:{user:null,loading:!1,error:null,isAuthenticated:!1},reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(n.pending,e=>{e.loading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload,e.isAuthenticated=!0}).addCase(n.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(a.pending,e=>{e.loading=!0,e.error=null}).addCase(a.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload,e.isAuthenticated=!0}).addCase(a.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(s.fulfilled,e=>{e.user=null,e.isAuthenticated=!1})}}),{clearError:i}=d.actions;d.reducer},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},1017:e=>{e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[777],()=>r(5610));module.exports=o})();