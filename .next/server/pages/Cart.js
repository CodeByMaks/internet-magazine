"use strict";(()=>{var e={};e.id=301,e.ids=[301,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,o){return o in t?t[o]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,o)):"function"==typeof t&&"default"===o?t:void 0}}})},1423:(e,t,o)=>{o.r(t),o.d(t,{config:()=>G,default:()=>S,getServerSideProps:()=>z,getStaticPaths:()=>q,getStaticProps:()=>A,reportWebVitals:()=>R,routeModule:()=>X,unstable_getServerProps:()=>V,unstable_getServerSideProps:()=>W,unstable_getStaticParams:()=>$,unstable_getStaticPaths:()=>Q,unstable_getStaticProps:()=>I});var r={};o.r(r),o.d(r,{default:()=>k});var n=o(7093),i=o(5244),d=o(1323),a=o(1777),c=o.n(a),s=o(5863),l=o.n(s),u=o(997),m=o(6689),O=o(5086);o(2659),o(7767),function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'react-redux'");throw e.code="MODULE_NOT_FOUND",e}(),Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  display: flex;
  align-items: center;
  padding: 1rem;
  background: white;
  border-radius: 0.5rem;
  margin-bottom: 1rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  width: 100px;
  height: 100px;
  object-fit: cover;
  border-radius: 0.5rem;
  margin-right: 1rem;
`,Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  flex: 1;
`,Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  margin: 0 0 0.5rem 0;
  color: #1f2937;
`,Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  color: #6366f1;
  font-weight: 600;
  margin: 0;
`,Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0 2rem;
`,Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  width: 30px;
  height: 30px;
  border: 1px solid #e5e7eb;
  background: white;
  border-radius: 0.25rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  color: #4b5563;

  &:hover {
    background: #f3f4f6;
  }
`,Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  width: 50px;
  text-align: center;
  border: 1px solid #e5e7eb;
  border-radius: 0.25rem;
  padding: 0.25rem;
`,Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  padding: 0.5rem 1rem;
  background: #ef4444;
  color: white;
  border: none;
  border-radius: 0.25rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background: #dc2626;
  }
`,function(){var e=Error("Cannot find module 'react-redux'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '__barrel_optimize__?names=FaShoppingCart,FaTrash,FaUndo!=!react-icons/fa'");throw e.code="MODULE_NOT_FOUND",e}();let f=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 1rem;
`,p=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  font-size: 2rem;
  color: #1f2937;
  margin-bottom: 2rem;
`,b=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 1rem;
`,_=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  display: flex;
  align-items: center;
  padding: 1rem;
  border-bottom: 1px solid #e5e7eb;
  &:last-child {
    border-bottom: none;
  }
`,h=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  width: 100px;
  height: 100px;
  object-fit: cover;
  border-radius: 4px;
  margin-right: 1rem;
`,E=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  flex: 1;
`,g=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  font-size: 1.1rem;
  color: #1f2937;
  margin-bottom: 0.5rem;
`,U=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  font-size: 1.1rem;
  color: #4b5563;
  font-weight: 500;
`,x=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0.5rem 0;
`,D=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  background: #f3f4f6;
  border: none;
  border-radius: 4px;
  padding: 0.25rem 0.5rem;
  cursor: pointer;
  &:hover {
    background: #e5e7eb;
  }
`,N=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  width: 50px;
  text-align: center;
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  padding: 0.25rem;
`,j=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  background: none;
  border: none;
  color: #ef4444;
  cursor: pointer;
  padding: 0.5rem;
  &:hover {
    color: #dc2626;
  }
`,y=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  margin-top: 2rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 1.5rem;
`,v=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  display: flex;
  justify-content: space-between;
  margin-bottom: 1rem;
  font-size: 1.1rem;
  color: #4b5563;
`,w=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())(v)`
  font-size: 1.5rem;
  font-weight: 600;
  color: #1f2937;
  border-top: 2px solid #e5e7eb;
  padding-top: 1rem;
  margin-top: 1rem;
`,C=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  display: flex;
  gap: 1rem;
  margin-top: 1rem;
`,F=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  transition: all 0.2s;

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,L=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())(F)`
  background: #10b981;
  color: white;
  border: none;
  &:hover:not(:disabled) {
    background: #059669;
  }
`,M=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())(F)`
  background: #ef4444;
  color: white;
  border: none;
  &:hover:not(:disabled) {
    background: #dc2626;
  }
`,T=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())(F)`
  background: #6b7280;
  color: white;
  border: none;
  &:hover:not(:disabled) {
    background: #4b5563;
  }
`,P=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  text-align: center;
  padding: 3rem;
  color: #6b7280;
`,k=()=>{let e=Object(function(){var e=Error("Cannot find module 'react-redux'");throw e.code="MODULE_NOT_FOUND",e}())(),t=Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}())(),{items:o,total:r,lastAction:n}=Object(function(){var e=Error("Cannot find module 'react-redux'");throw e.code="MODULE_NOT_FOUND",e}())(e=>e.cart),[i,d]=(0,m.useState)(!1),a=(t,o)=>{e((0,O.$R)({id:t,quantity:parseInt(o)}))},c=t=>{e((0,O.h2)(t))};return 0===o.length?u.jsx(f,{children:(0,u.jsxs)(P,{children:[u.jsx(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=FaShoppingCart,FaTrash,FaUndo!=!react-icons/fa'");throw e.code="MODULE_NOT_FOUND",e}()),{size:48}),u.jsx("h2",{children:"Ваша корзина пуста"}),u.jsx("p",{children:"Добавьте товары в корзину, чтобы продолжить покупки"})]})}):(0,u.jsxs)(f,{children:[u.jsx(p,{children:"Корзина"}),u.jsx(b,{children:o.map(e=>(0,u.jsxs)(_,{children:[u.jsx(h,{src:e.image,alt:e.name}),(0,u.jsxs)(E,{children:[u.jsx(g,{children:e.name}),(0,u.jsxs)(U,{children:[e.price.toLocaleString()," ₽"]}),(0,u.jsxs)(x,{children:[u.jsx(D,{onClick:()=>a(e.id,e.quantity-1),disabled:e.quantity<=1,children:"-"}),u.jsx(N,{type:"number",min:"1",max:e.stock||99,value:e.quantity,onChange:t=>a(e.id,t.target.value)}),u.jsx(D,{onClick:()=>a(e.id,e.quantity+1),disabled:e.quantity>=(e.stock||99),children:"+"})]})]}),u.jsx(j,{onClick:()=>c(e.id),children:u.jsx(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=FaShoppingCart,FaTrash,FaUndo!=!react-icons/fa'");throw e.code="MODULE_NOT_FOUND",e}()),{})})]},e.id))}),(0,u.jsxs)(y,{children:[(0,u.jsxs)(v,{children:[(0,u.jsxs)("span",{children:["Товары (",o.length,")"]}),(0,u.jsxs)("span",{children:[r.toLocaleString()," ₽"]})]}),(0,u.jsxs)(w,{children:[u.jsx("span",{children:"Итого"}),(0,u.jsxs)("span",{children:[r.toLocaleString()," ₽"]})]}),(0,u.jsxs)(C,{children:[u.jsx(L,{onClick:()=>{t("/checkout")},children:"Оформить заказ"}),u.jsx(M,{onClick:()=>{if(!i){d(!0);return}e((0,O.LL)()),d(!1)},children:i?"Подтвердить очистку":"Очистить корзину"}),n&&(0,u.jsxs)(T,{onClick:()=>{e((0,O.Rt)())},children:[u.jsx(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=FaShoppingCart,FaTrash,FaUndo!=!react-icons/fa'");throw e.code="MODULE_NOT_FOUND",e}()),{})," Отменить последнее действие"]})]})]})]})},S=(0,d.l)(r,"default"),A=(0,d.l)(r,"getStaticProps"),q=(0,d.l)(r,"getStaticPaths"),z=(0,d.l)(r,"getServerSideProps"),G=(0,d.l)(r,"config"),R=(0,d.l)(r,"reportWebVitals"),I=(0,d.l)(r,"unstable_getStaticProps"),Q=(0,d.l)(r,"unstable_getStaticPaths"),$=(0,d.l)(r,"unstable_getStaticParams"),V=(0,d.l)(r,"unstable_getServerProps"),W=(0,d.l)(r,"unstable_getServerSideProps"),X=new n.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/Cart",pathname:"/Cart",bundlePath:"",filename:""},components:{App:l(),Document:c()},userland:r})},5863:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let r=o(167),n=o(997),i=r._(o(6689)),d=o(6921);async function a(e){let{Component:t,ctx:o}=e;return{pageProps:await (0,d.loadGetInitialProps)(t,o)}}class c extends i.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,n.jsx)(e,{...t})}}c.origGetInitialProps=a,c.getInitialProps=a,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7767:(e,t,o)=>{o.d(t,{Z:()=>a});var r=o(997);o(6689),function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '__barrel_optimize__?names=FaExclamationCircle!=!react-icons/fa'");throw e.code="MODULE_NOT_FOUND",e}();let n=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  background-color: #fee2e2;
  border: 1px solid #ef4444;
  border-radius: 8px;
  padding: 1rem;
  margin: 1rem 0;
  display: flex;
  align-items: center;
  gap: 0.75rem;
`,i=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=FaExclamationCircle!=!react-icons/fa'");throw e.code="MODULE_NOT_FOUND",e}()))`
  color: #ef4444;
  font-size: 1.5rem;
  flex-shrink: 0;
`,d=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  color: #991b1b;
  margin: 0;
  font-size: 1rem;
`,a=({message:e})=>e?(0,r.jsxs)(n,{children:[r.jsx(i,{}),r.jsx(d,{children:e})]}):null},2659:(e,t,o)=>{o.d(t,{Z:()=>a});var r=o(997);o(6689),function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}();let n=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
`,i=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 2rem;
`,d=Object(function(){var e=Error("Cannot find module 'styled-components'");throw e.code="MODULE_NOT_FOUND",e}())`
  width: 40px;
  height: 40px;
  border: 4px solid #f3f4f6;
  border-top: 4px solid #3b82f6;
  border-radius: 50%;
  animation: ${n} 1s linear infinite;
`,a=()=>r.jsx(i,{children:r.jsx(d,{})})},5086:(e,t,o)=>{o.d(t,{$R:()=>d,LL:()=>a,Rt:()=>c,Xq:()=>n,h2:()=>i}),function(){var e=Error("Cannot find module '@reduxjs/toolkit'");throw e.code="MODULE_NOT_FOUND",e}();let r=Object(function(){var e=Error("Cannot find module '@reduxjs/toolkit'");throw e.code="MODULE_NOT_FOUND",e}())({name:"cart",initialState:{items:[],total:0,status:"idle",error:null,lastAction:null},reducers:{addToCart:(e,t)=>{let o=e.items.find(e=>e.id===t.payload.id);o?o.quantity+=1:e.items.push({...t.payload,quantity:1}),e.total=e.items.reduce((e,t)=>e+t.price*t.quantity,0),e.lastAction={type:"add",item:t.payload}},removeFromCart:(e,t)=>{let o=e.items.find(e=>e.id===t.payload);e.items=e.items.filter(e=>e.id!==t.payload),e.total=e.items.reduce((e,t)=>e+t.price*t.quantity,0),e.lastAction={type:"remove",item:o}},updateQuantity:(e,t)=>{let{id:o,quantity:r}=t.payload,n=e.items.find(e=>e.id===o);if(n){let t=n.quantity;n.quantity=Math.max(1,Math.min(r,n.stock||99)),e.total=e.items.reduce((e,t)=>e+t.price*t.quantity,0),e.lastAction={type:"update",item:n,oldQuantity:t,newQuantity:n.quantity}}},clearCart:e=>{let t=[...e.items];e.items=[],e.total=0,e.lastAction={type:"clear",items:t}},undoLastAction:e=>{if(e.lastAction){switch(e.lastAction.type){case"add":e.items=e.items.filter(t=>t.id!==e.lastAction.item.id);break;case"remove":e.items.push(e.lastAction.item);break;case"update":let t=e.items.find(t=>t.id===e.lastAction.item.id);t&&(t.quantity=e.lastAction.oldQuantity);break;case"clear":e.items=e.lastAction.items}e.total=e.items.reduce((e,t)=>e+t.price*t.quantity,0),e.lastAction=null}},setError:(e,t)=>{e.error=t.payload,e.status="error"},clearError:e=>{e.error=null,e.status="idle"}}}),{addToCart:n,removeFromCart:i,updateQuantity:d,clearCart:a,undoLastAction:c,setError:s,clearError:l}=r.actions;r.reducer},5244:(e,t)=>{var o;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return o}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(o||(o={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},1017:e=>{e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[777],()=>o(1423));module.exports=r})();